import{d as C,o as i,c as v,a as u,t as E,b as j,n as J,F as D,r as k,e as O,f as M,g as T,h as m,w as g,v as $,u as x,i as I,j as P,p as L,k as V,l as q,m as N,q as z,s as K,x as Y}from"./vendor.e49e873c.js";const G=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(a){if(a.ep)return;a.ep=!0;const d=n(a);fetch(a.href,d)}};G();var w=(o,s)=>{const n=o.__vccOpts||o;for(const[l,a]of s)n[l]=a;return n};const H={class:"subject"},Q={class:"title"},W={class:"name"},X={key:0,class:"platform"},Z={key:1,class:"platform"},ee={class:"time"},te={class:"score"},ue={class:"starstop-s"},oe={class:"article"},ne=C({props:{content:{type:Object,default:()=>({time:"2022-01-11",platform:"PS5",name:"odd taxi",score:9,article:"\u597D\u4E45\u6CA1\u770B\u756A\u4E86\uFF0C\u8FD9\u90E8\u771F\u7684\u662F\u76F8\u5F53\u4F18\u79C0\uFF0C\u503C\u5F97\u63A8\u8350\u3002\u6700\u540E\u4E24\u8BDD\u75AF\u72C2\u56DE\u6536\u4F0F\u7EBF\u771F\u8BA9\u4EBA\u77E5\u4E4E\u8FC7\u763E\uFF0C\u7ED3\u5C40\u771F\u51F6\u7EC8\u4E8E\u6D6E\u51FA\u6C34\u9762\u4E5F\u8BA9\u4EBA\u76F8\u5F53\u9707\u60CA\u3002\u6BEB\u65E0\u7591\u95EE\u662F\u5C0F\u6210\u672C\u52A8\u753B\u7684\u5178\u8303\u4E4B\u4E00\u4E86"})},index:{type:Number}},emits:["editSubject","deleteSubject"],setup(o,{emit:s}){const n=o,l=function(){s("editSubject",n.content)},a=function(){s("deleteSubject",n.index)};return(d,f)=>(i(),v("div",H,[u("div",Q,[u("div",W,[u("span",{onClick:l},E(o.content.name),1),u("span",{class:"delete",onClick:a},"x"),o.content.platform?(i(),v("span",X,"\uFF08"+E(o.content.platform)+"\uFF09",1)):j("",!0),o.content.otherType?(i(),v("span",Z,"\uFF08"+E(o.content.otherType)+"\uFF09",1)):j("",!0)]),u("div",ee,E(o.content.time),1),u("div",te,[u("span",ue,[u("span",{class:"starlight",style:J({width:o.content.score*20+"px"})},null,4)])])]),u("div",oe,"\u2003\u2003"+E(o.content.article),1)]))}});var ae=w(ne,[["__scopeId","data-v-4dcb17a7"]]);const se=C({props:{dataList:null},emits:["editSubject","deleteSubject"],setup(o,{emit:s}){const n=function(a){s("editSubject",a)},l=function(a){s("deleteSubject",a)};return(a,d)=>(i(),v("div",null,[(i(!0),v(D,null,k(o.dataList,(f,r)=>(i(),O(ae,{onEditSubject:n,onDeleteSubject:l,key:r,content:f,index:r},null,8,["content","index"]))),128))]))}});const U=o=>(L("data-v-8d50bb26"),o=o(),V(),o),le=U(()=>u("label",null,"\u4F5C\u54C1\u540D",-1)),de={class:"time"},ce=U(()=>u("label",null,"\u8BC4\u5206",-1)),ie=["onMousemove","onClick"],re={key:0},ve={key:2},me={class:"text"},pe=C({props:{addType:{type:String,default:""},editOrAdd:{type:String,default:"add"},toEditSubject:Object},emits:["addSubject","closeModal","editSubject"],setup(o,{emit:s}){const n=o;M(()=>{n.editOrAdd=="edit"&&n.toEditSubject&&(r.value=n.toEditSubject.name,y.value=n.toEditSubject.score,h.value=n.toEditSubject.article,d.value=n.toEditSubject.time,n.addType=="game"&&(b.value=n.toEditSubject.platform||""),n.addType==="other"&&(_.value=n.toEditSubject.otherType||""))});const l=T(()=>{switch(n.addType){case"game":return"\u6E38\u73A9";case"movie":case"anime":return"\u89C2\u770B";case"novel":return"\u9605\u8BFB";default:return"\u6B23\u8D4F"}}),a=T(()=>n.editOrAdd=="edit"?"\u786E\u8BA4":"\u63D0\u4EA4"),d=m(""),f=()=>{const c=new Date;return c.getFullYear().toString()+"-"+(c.getMonth()+1>10?(c.getMonth()+1).toString():"0"+(c.getMonth()+1).toString())+"-"+(c.getDate()>10?c.getDate().toString():"0"+c.getDate().toString())};M(()=>{d.value=f()});const r=m(""),b=m(""),_=m(""),y=m(5),h=m(""),S=m(!1),A=m(0),F=()=>{if(n.editOrAdd=="add"){if(r.value){const c={name:r.value,score:y.value,time:d.value,article:h.value};b.value&&(c.platform=b.value),_.value&&(c.otherType=_.value),s("addSubject",c)}}else if(n.editOrAdd=="edit"&&n.toEditSubject){const c={name:r.value,score:y.value,time:d.value,article:h.value};b.value&&(c.platform=b.value),_.value&&(c.otherType=_.value),s("editSubject",c),s("closeModal")}};return(c,e)=>(i(),v("div",{class:"addSubject",onClick:e[8]||(e[8]=P(()=>{},["stop"]))},[le,g(u("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t)},null,512),[[$,r.value]]),u("label",null,E(x(l))+"\u65F6\u95F4",1),u("div",de,[g(u("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>d.value=t),type:"date"},null,512),[[$,d.value]])]),ce,u("span",{class:"score",onMouseover:e[3]||(e[3]=t=>S.value=!0),onMouseout:e[4]||(e[4]=t=>S.value=!1)},[(i(),v(D,null,k(10,t=>u("span",{key:t,onMousemove:p=>A.value=t,onMouseout:e[2]||(e[2]=p=>A.value=y.value),class:I({grey:S.value&&t>A.value||!S.value&&t>y.value,yellow:S.value&&t<=A.value,red:!S.value&&t<=y.value}),onClick:p=>{y.value=t,S.value=!1}},null,42,ie)),64))],32),o.addType=="game"?(i(),v("label",re,"\u5E73\u53F0")):j("",!0),o.addType=="game"?g((i(),v("input",{key:1,"onUpdate:modelValue":e[5]||(e[5]=t=>b.value=t)},null,512)),[[$,b.value]]):j("",!0),o.addType=="other"?(i(),v("label",ve,"\u7C7B\u578B")):j("",!0),o.addType=="other"?g((i(),v("input",{key:3,"onUpdate:modelValue":e[6]||(e[6]=t=>_.value=t)},null,512)),[[$,_.value]]):j("",!0),g(u("textarea",{"onUpdate:modelValue":e[7]||(e[7]=t=>h.value=t)},null,512),[[$,h.value]]),u("span",me,"\u5B57\u6570\uFF1A"+E(h.value.length),1),u("button",{onClick:F},E(x(a)),1)]))}});var fe=w(pe,[["__scopeId","data-v-8d50bb26"]]);const B=o=>(L("data-v-1453b9af"),o=o(),V(),o),be={class:"header"},_e=B(()=>u("span",null,"\u975E\u5B85\u5154\u4E2A\u4EBA\u8BC4\u5206\u7F51\u7AD9",-1)),ye={class:"filterTab"},Se=["value","id"],Ee=["for"],he={class:"mainBody"},Fe={class:"sort"},je=B(()=>u("option",{value:"timeDescend"},"\u65F6\u95F4\u7531\u65B0\u5230\u65E7",-1)),ge=B(()=>u("option",{value:"timeAscend"},"\u65F6\u95F4\u7531\u65E7\u5230\u65B0",-1)),Ae=B(()=>u("option",{value:"scoreDescend"},"\u5206\u6570\u7531\u9AD8\u5230\u4F4E",-1)),Be=B(()=>u("option",{value:"scoreAscend"},"\u5206\u6570\u7531\u4F4E\u5230\u9AD8",-1)),Ce=[je,ge,Ae,Be],De=B(()=>u("div",{class:"footer"},[z(" \u4E2A\u4EBA\u94FE\u63A5\uFF1A "),u("a",{target:"_blank",href:"https://bgm.tv/user/tomchen1991"},"bangumi"),u("a",{target:"_blank",href:"https://www.imdb.com/user/ur69395828/"},"IMDB")],-1)),$e=C({setup(o){const s=m({game:[],anime:[],movie:[],novel:[],other:[]});M(()=>{fetch("./data.json").then(e=>e.json()).then(e=>{s.value=e})});const n=m([{name:"game",chinese:"\u6E38\u620F"},{name:"movie",chinese:"\u7535\u5F71"},{name:"anime",chinese:"\u756A\u5267"},{name:"novel",chinese:"\u5C0F\u8BF4"},{name:"other",chinese:"\u5176\u5B83"}]),l=m("game"),a=T(()=>s.value[l.value]),d=function(){const e=document.createElement("a");e.download="\u6211\u7684\u5A31\u4E50.json",e.style.display="none";const t=new Blob([JSON.stringify(s.value)]);e.href=URL.createObjectURL(t),document.body.appendChild(e),e.click(),document.body.removeChild(e)},f=m("add"),r=m(!1),b=m({score:0,time:"",name:"",article:""}),_=function(){f.value="add",r.value=!0},y=function(e){s.value[l.value].unshift(e),c(),r.value=!1},h=function(e){f.value="edit",b.value=e,r.value=!0},S=function(e){Object.assign(b.value,e)},A=function(e){s.value[l.value].splice(e,1)},F=m("timeDescend"),c=function(){F.value=="timeAscend"?s.value[l.value].sort((e,t)=>parseInt(e.time.replace(/-/g,""))-parseInt(t.time.replace(/-/g,""))):F.value=="timeDescend"?s.value[l.value].sort((e,t)=>parseInt(t.time.replace(/-/g,""))-parseInt(e.time.replace(/-/g,""))):F.value=="scoreDescend"?s.value[l.value].sort((e,t)=>t.score-e.score):F.value=="scoreAscend"&&s.value[l.value].sort((e,t)=>e.score-t.score)};return(e,t)=>(i(),v(D,null,[u("div",be,[_e,u("div",ye,[(i(!0),v(D,null,k(n.value,p=>(i(),v(D,{key:p.name},[g(u("input",{"onUpdate:modelValue":t[0]||(t[0]=R=>l.value=R),value:p.name,type:"radio",name:"amuse",id:"amuseradio"+p.name},null,8,Se),[[K,l.value]]),u("label",{class:I({selected:l.value===p.name}),for:"amuseradio"+p.name},E(p.chinese),11,Ee)],64))),128))]),u("button",{onClick:d},"\u4E0B\u8F7Djson")]),u("div",he,[u("div",Fe,[g(u("select",{"onUpdate:modelValue":t[1]||(t[1]=p=>F.value=p),onChange:c},Ce,544),[[q,F.value]])]),N(se,{onEditSubject:h,onDeleteSubject:A,dataList:x(a)},null,8,["dataList"]),u("div",{class:"addSubject",onClick:_},"+")]),De,r.value?(i(),v("div",{key:0,class:"modal",onClick:t[3]||(t[3]=p=>r.value=!1)},[N(fe,{onAddSubject:y,onCloseModal:t[2]||(t[2]=p=>{c(),r.value=!1}),"add-type":l.value,"edit-or-add":f.value,"to-edit-subject":b.value,onEditSubject:S},null,8,["add-type","edit-or-add","to-edit-subject"])])):j("",!0)],64))}});var ke=w($e,[["__scopeId","data-v-1453b9af"]]);const Me=C({setup(o){return document.title="\u975E\u5B85\u5154\u4E2A\u4EBA\u8BC4\u5206",(s,n)=>(i(),O(ke))}});Y(Me).mount("#app");
