import{d as p,c as a,a as s,t as c,b as S,n as M,o as d,r as A,F as b,e as g,f as E,w as f,v as j,g as T,p as y,h as F,i as $,j as w,k as O,l as C,m as k,q as L}from"./vendor.6f97a732.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const n of u)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(u){const n={};return u.integrity&&(n.integrity=u.integrity),u.referrerpolicy&&(n.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?n.credentials="include":u.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(u){if(u.ep)return;u.ep=!0;const n=r(u);fetch(u.href,n)}};I();var v=(e,t)=>{const r=e.__vccOpts||e;for(const[l,u]of t)r[l]=u;return r};const N=p({emits:["editSubject","deleteSubject"],props:{content:{type:Object,default:{time:"2022-01-11",platform:"PS5",name:"odd taxi",score:9,article:"\u597D\u4E45\u6CA1\u770B\u756A\u4E86\uFF0C\u8FD9\u90E8\u771F\u7684\u662F\u76F8\u5F53\u4F18\u79C0\uFF0C\u503C\u5F97\u63A8\u8350\u3002\u6700\u540E\u4E24\u8BDD\u75AF\u72C2\u56DE\u6536\u4F0F\u7EBF\u771F\u8BA9\u4EBA\u77E5\u4E4E\u8FC7\u763E\uFF0C\u7ED3\u5C40\u771F\u51F6\u7EC8\u4E8E\u6D6E\u51FA\u6C34\u9762\u4E5F\u8BA9\u4EBA\u76F8\u5F53\u9707\u60CA\u3002\u6BEB\u65E0\u7591\u95EE\u662F\u5C0F\u6210\u672C\u52A8\u753B\u7684\u5178\u8303\u4E4B\u4E00\u4E86"}},index:{type:Number}},data(){return{}},methods:{editSubject(){this.$emit("editSubject",this.content)},deleteSubject(){this.$emit("deleteSubject",this.index)}}}),V={class:"subject"},U={class:"title"},J={class:"name"},R={key:0,class:"platform"},P={class:"time"},q={class:"score"},z={class:"starstop-s"},K={class:"article"};function Y(e,t,r,l,u,n){return d(),a("div",V,[s("div",U,[s("div",J,[s("span",{onClick:t[0]||(t[0]=(...o)=>e.editSubject&&e.editSubject(...o))},c(e.content.name),1),s("span",{class:"delete",onClick:t[1]||(t[1]=(...o)=>e.deleteSubject&&e.deleteSubject(...o))},"x"),e.content.platform?(d(),a("span",R,"\uFF08"+c(e.content.platform)+"\uFF09",1)):S("",!0)]),s("div",P,c(e.content.time),1),s("div",q,[s("span",z,[s("span",{class:"starlight",style:M({width:e.content.score*20+"px"})},null,4)])])]),s("div",K,"\u2003\u2003"+c(e.content.article),1)])}var _=v(N,[["render",Y],["__scopeId","data-v-72f0f4d2"]]);const G=p({emits:["editSubject","deleteSubject"],props:{dataList:Array,default:[]},components:{SubjectComponent:_},data(){return{}},methods:{editSubject(e){this.$emit("editSubject",e)},deleteSubject(e){this.$emit("deleteSubject",e)}}});function H(e,t,r,l,u,n){const o=A("SubjectComponent");return d(),a("div",null,[(d(!0),a(b,null,g(e.dataList,(m,i)=>(d(),E(o,{onEditSubject:e.editSubject,onDeleteSubject:e.deleteSubject,content:m,index:i},null,8,["onEditSubject","onDeleteSubject","content","index"]))),256))])}var Q=v(G,[["render",H]]);const W=p({data(){return{name:"",platform:"",time:"",score:5,article:"",changing:!1,mouseScore:0}},emits:["addSubject","closeModal"],props:{addType:{type:String,default:""},editOrAdd:{type:String,default:"add"},toEditSubject:Object},computed:{verb(){switch(this.addType){case"game":return"\u6E38\u73A9";case"movie":case"anime":return"\u89C2\u770B";case"novel":return"\u9605\u8BFB";default:return"\u6B23\u8D4F"}},submitText(){return this.editOrAdd=="edit"?"\u786E\u8BA4":"\u63D0\u4EA4"}},mounted(){this.time=this.getTime(),this.editOrAdd=="edit"&&this.toEditSubject&&(this.name=this.toEditSubject.name,this.score=this.toEditSubject.score,this.article=this.toEditSubject.article,this.time=this.toEditSubject.time,this.addType=="game"&&(this.platform=this.toEditSubject.platform||""))},methods:{getTime(){const e=new Date;return e.getFullYear().toString()+"-"+(e.getMonth()+1>10?(e.getMonth()+1).toString():"0"+(e.getMonth()+1).toString())+"-"+(e.getDate()>10?e.getDate().toString():"0"+e.getDate().toString())},submitSubject(){if(this.editOrAdd=="add"){if(this.name){const e={name:this.name,score:this.score,time:this.time,article:this.article};this.platform&&(e.platform=this.platform),this.$emit("addSubject",e)}}else this.editOrAdd=="edit"&&this.toEditSubject&&(this.toEditSubject.name=this.name,this.toEditSubject.score=this.score,this.toEditSubject.time=this.time,this.toEditSubject.article=this.article,this.platform&&(this.toEditSubject.platform=this.platform),this.$emit("closeModal"))}}}),B=e=>(y("data-v-9cec4ece"),e=e(),F(),e),X=B(()=>s("label",null,"\u4F5C\u54C1\u540D",-1)),Z={class:"time"},x=B(()=>s("label",null,"\u8BC4\u5206",-1)),ee=["onMousemove","onClick"],te={key:0},se={class:"text"};function oe(e,t,r,l,u,n){return d(),a("div",{class:"addSubject",onClick:t[7]||(t[7]=T(()=>{},["stop"]))},[X,f(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.name=o)},null,512),[[j,e.name]]),s("label",null,c(e.verb)+"\u65F6\u95F4",1),s("div",Z,c(e.time),1),x,s("span",{class:"score",onMouseover:t[2]||(t[2]=o=>e.changing=!0),onMouseout:t[3]||(t[3]=o=>e.changing=!1)},[(d(),a(b,null,g(10,o=>s("span",{onMousemove:m=>e.mouseScore=o,onMouseout:t[1]||(t[1]=m=>e.mouseScore=e.score),class:$({grey:e.changing&&o>e.mouseScore||!e.changing&&o>e.score,yellow:e.changing&&o<=e.mouseScore,red:!e.changing&&o<=e.score}),onClick:m=>{e.score=o,e.changing=!1}},null,42,ee)),64))],32),e.addType=="game"?(d(),a("label",te,"\u5E73\u53F0")):S("",!0),e.addType=="game"?f((d(),a("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=o=>e.platform=o)},null,512)),[[j,e.platform]]):S("",!0),f(s("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>e.article=o)},null,512),[[j,e.article]]),s("span",se,"\u5B57\u6570\uFF1A"+c(e.article.length),1),s("button",{onClick:t[6]||(t[6]=(...o)=>e.submitSubject&&e.submitSubject(...o))},c(e.submitText),1)])}var ue=v(W,[["render",oe],["__scopeId","data-v-9cec4ece"]]);const ie=p({components:{DataList:Q,Subject:_,AddSubject:ue},data(){return{amuseType:[{name:"game",chinese:"\u6E38\u620F"},{name:"movie",chinese:"\u7535\u5F71"},{name:"anime",chinese:"\u756A\u5267"},{name:"novel",chinese:"\u5C0F\u8BF4"},{name:"other",chinese:"\u5176\u5B83"}],selectedAmuse:"game",game:[],anime:[],movie:[],novel:[],other:[],sortType:"timeDescend",showModal:!1,editOrAdd:"add",toEditSubject:{score:0,time:"",name:"",article:""}}},mounted(){fetch("./data.json").then(e=>e.json()).then(e=>{this.anime=e.anime,this.game=e.game,this.movie=e.movie,this.other=e.other,this.novel=e.novel})},computed:{selectedArray(){return this.selectedAmuse=="game"||this.selectedAmuse=="anime"||this.selectedAmuse=="movie"||this.selectedAmuse=="novel"||this.selectedAmuse=="other"?this[this.selectedAmuse]:[]}},methods:{downloadJSON(){const e=document.createElement("a");e.download="\u6211\u7684\u5A31\u4E50.json",e.style.display="none";const t=new Blob([JSON.stringify({game:this.game,anime:this.anime,other:this.other,novel:this.novel,movie:this.movie})]);e.href=URL.createObjectURL(t),document.body.appendChild(e),e.click(),document.body.removeChild(e)},openAddModal(){this.editOrAdd="add",this.showModal=!0},addSubject(e){(this.selectedAmuse=="game"||this.selectedAmuse=="anime"||this.selectedAmuse=="movie"||this.selectedAmuse=="novel"||this.selectedAmuse=="other")&&this[this.selectedAmuse].unshift(e),this.changeSortType(),this.showModal=!1},editSubject(e){this.editOrAdd="edit",this.toEditSubject=e,this.showModal=!0},deleteSubject(e){(this.selectedAmuse=="game"||this.selectedAmuse=="anime"||this.selectedAmuse=="movie"||this.selectedAmuse=="novel"||this.selectedAmuse=="other")&&this[this.selectedAmuse].splice(e,1)},changeSortType(){(this.selectedAmuse=="game"||this.selectedAmuse=="anime"||this.selectedAmuse=="movie"||this.selectedAmuse=="novel"||this.selectedAmuse=="other")&&(this.sortType=="timeAscend"?this[this.selectedAmuse].sort((e,t)=>parseInt(e.time.replace(/-/g,""))-parseInt(t.time.replace(/-/g,""))):this.sortType=="timeDescend"?this[this.selectedAmuse].sort((e,t)=>parseInt(t.time.replace(/-/g,""))-parseInt(e.time.replace(/-/g,""))):this.sortType=="scoreDescend"?this[this.selectedAmuse].sort((e,t)=>t.score-e.score):this.sortType=="scoreAscend"&&this[this.selectedAmuse].sort((e,t)=>e.score-t.score))}}}),h=e=>(y("data-v-19fbc8b8"),e=e(),F(),e),ne={class:"header"},de=h(()=>s("span",null,"\u975E\u5B85\u5154\u4E2A\u4EBA\u8BC4\u5206\u7F51\u7AD9",-1)),ae={class:"filterTab"},re=["value","id"],le=["for"],ce={class:"mainBody"},me={class:"sort"},he=h(()=>s("option",{value:"timeDescend"},"\u65F6\u95F4\u7531\u65B0\u5230\u65E7",-1)),pe=h(()=>s("option",{value:"timeAscend"},"\u65F6\u95F4\u7531\u65E7\u5230\u65B0",-1)),be=h(()=>s("option",{value:"scoreDescend"},"\u5206\u6570\u7531\u9AD8\u5230\u4F4E",-1)),fe=h(()=>s("option",{value:"scoreAscend"},"\u5206\u6570\u7531\u4F4E\u5230\u9AD8",-1)),Se=[he,pe,be,fe],ve=h(()=>s("div",{class:"footer"},[k(" \u4E2A\u4EBA\u94FE\u63A5\uFF1A "),s("a",{target:"_blank",href:"https://bgm.tv/user/tomchen1991"},"bangumi"),s("a",{target:"_blank",href:"https://www.imdb.com/user/ur69395828/"},"IMDB")],-1));function Ae(e,t,r,l,u,n){const o=A("DataList"),m=A("AddSubject");return d(),a(b,null,[s("div",ne,[de,s("div",ae,[(d(!0),a(b,null,g(e.amuseType,i=>(d(),a(b,{key:i.name},[f(s("input",{"onUpdate:modelValue":t[0]||(t[0]=D=>e.selectedAmuse=D),value:i.name,type:"radio",name:"amuse",id:"amuseradio"+i.name},null,8,re),[[w,e.selectedAmuse]]),s("label",{class:$({selected:e.selectedAmuse==i.name}),for:"amuseradio"+i.name},c(i.chinese),11,le)],64))),128))]),s("button",{onClick:t[1]||(t[1]=(...i)=>e.downloadJSON&&e.downloadJSON(...i))},"\u4E0B\u8F7Djson")]),s("div",ce,[s("div",me,[f(s("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>e.sortType=i),onChange:t[3]||(t[3]=(...i)=>e.changeSortType&&e.changeSortType(...i))},Se,544),[[O,e.sortType]])]),C(o,{onEditSubject:e.editSubject,onDeleteSubject:e.deleteSubject,dataList:e.selectedArray},null,8,["onEditSubject","onDeleteSubject","dataList"]),s("div",{class:"addSubject",onClick:t[4]||(t[4]=(...i)=>e.openAddModal&&e.openAddModal(...i))},"+")]),ve,e.showModal?(d(),a("div",{key:0,class:"modal",onClick:t[6]||(t[6]=i=>e.showModal=!1)},[C(m,{onAddSubject:e.addSubject,onCloseModal:t[5]||(t[5]=i=>{e.changeSortType(),e.showModal=!1}),addType:e.selectedAmuse,editOrAdd:e.editOrAdd,toEditSubject:e.toEditSubject},null,8,["onAddSubject","addType","editOrAdd","toEditSubject"])])):S("",!0)],64)}var ge=v(ie,[["render",Ae],["__scopeId","data-v-19fbc8b8"]]);const je=p({setup(e){return document.title="\u975E\u5B85\u5154\u4E2A\u4EBA\u8BC4\u5206",(t,r)=>(d(),E(ge))}});L(je).mount("#app");
